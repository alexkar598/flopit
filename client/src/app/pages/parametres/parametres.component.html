<nb-card>
  <nb-card-header> <h1>Paramètres</h1> </nb-card-header>
  <nb-card-body>
    <div>
      @if (userService.currentUser$ | async; as user) {
        <div class="utilisateur">
          <nb-user
            [name]="user.username"
            [picture]="user.avatarOid ? (user.avatarOid | getImg) : ''"
            color="#EEE"
          />
        </div>

        <h2>Informations</h2>
        <form #form="ngForm" (ngSubmit)="changer(form)">
          <nb-form-field class="parametre">
            <label>Changer le nom d'utilisateur</label>
            <input
              type="text"
              nbInput
              placeholder="Nom d'utilisateur"
              id="changer-nom"
              [defaultValue]="user.username"
            />
          </nb-form-field>
          <nb-form-field class="parametre">
            <label>Changer le mot de passe</label>
            <input
              type="text"
              nbInput
              placeholder="Nouveau mot de passe"
              id="changer-password"
            />
          </nb-form-field>
          <nb-form-field class="parametre">
            <input
              type="text"
              nbInput
              placeholder="Confirmer le nouveau mot de passe"
            />
          </nb-form-field>
          <nb-form-field class="parametre">
            <span>Changer l'icône</span>
            <input
              nbInput
              type="file"
              accept="image/png, image/jpeg, image/gif, image/ico, image/webp, image/heic, image/avif"
            />
          </nb-form-field>
          <div class="parametre">
            <button nbButton status="primary">
              Appliquer les modifications
            </button>
          </div>
        </form>
      }
    </div>

    <div>
      <h2>Thème</h2>
      <div class="parametre">
        <label for="select-theme">Thème</label>
        <nb-select
          placeholder="Select Showcase"
          [(selected)]="selectedItem"
          id="select-theme"
        >
          <nb-option value="0">Clair</nb-option>
          <nb-option value="1">Sombre</nb-option>
        </nb-select>
      </div>
    </div>

    <div>
      <h2>Compte</h2>
      <div class="parametre">
        <span>Supprimer le compte</span>
        <button nbButton status="danger">Supprimer le compte</button>
      </div>
    </div>
  </nb-card-body>
</nb-card>
